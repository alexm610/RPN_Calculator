0000              1   ;--------------------------------------------------------
0000              2   ; File Created by C51
0000              3   ; Version 1.0.0 #1170 (Feb 16 2022) (MSVC)
0000              4   ; This file was generated Tue Dec 06 23:23:03 2022
0000              5   ;--------------------------------------------------------
                  5   $name blinky
                  6   $optc51 --model-small
0000              8            R_DSEG    segment data
0000              9            R_CSEG    segment code
0000             10            R_BSEG    segment bit
0000             11            R_XSEG    segment xdata
0000             12            R_PSEG    segment xdata
0000             13            R_ISEG    segment idata
0000             14            R_OSEG    segment data overlay
0000             15            BIT_BANK  segment data overlay
0000             16            R_HOME    segment code
0000             17            R_GSINIT  segment code
0000             18            R_IXSEG   segment xdata
0000             19            R_CONST   segment code
0000             20            R_XINIT   segment code
0000             21            R_DINIT   segment code
0000             22   
0000             23   ;--------------------------------------------------------
0000             24   ; Public variables in this module
0000             25   ;--------------------------------------------------------
0000             26            public _blink
0000             27            public _mydelay
0000             28   ;--------------------------------------------------------
0000             29   ; Special Function Registers
0000             30   ;--------------------------------------------------------
0000             31   _ACC            DATA 0xe0
0000             32   _B              DATA 0xf0
0000             33   _PSW            DATA 0xd0
0000             34   _SP             DATA 0x81
0000             35   _SPX            DATA 0xef
0000             36   _DPL            DATA 0x82
0000             37   _DPH            DATA 0x83
0000             38   _DPLB           DATA 0xd4
0000             39   _DPHB           DATA 0xd5
0000             40   _PAGE           DATA 0xf6
0000             41   _AX             DATA 0xe1
0000             42   _BX             DATA 0xf7
0000             43   _DSPR           DATA 0xe2
0000             44   _FIRD           DATA 0xe3
0000             45   _MACL           DATA 0xe4
0000             46   _MACH           DATA 0xe5
0000             47   _PCON           DATA 0x87
0000             48   _AUXR           DATA 0x8e
0000             49   _AUXR1          DATA 0xa2
0000             50   _DPCF           DATA 0xa1
0000             51   _CKRL           DATA 0x97
0000             52   _CKCKON0        DATA 0x8f
0000             53   _CKCKON1        DATA 0xaf
0000             54   _CKSEL          DATA 0x85
0000             55   _CLKREG         DATA 0xae
0000             56   _OSCCON         DATA 0x85
0000             57   _IE             DATA 0xa8
0000             58   _IEN0           DATA 0xa8
0000             59   _IEN1           DATA 0xb1
0000             60   _IPH0           DATA 0xb7
0000             61   _IP             DATA 0xb8
0000             62   _IPL0           DATA 0xb8
0000             63   _IPH1           DATA 0xb3
0000             64   _IPL1           DATA 0xb2
0000             65   _P0             DATA 0x80
0000             66   _P1             DATA 0x90
0000             67   _P2             DATA 0xa0
0000             68   _P3             DATA 0xb0
0000             69   _P4             DATA 0xc0
0000             70   _P0M0           DATA 0xe6
0000             71   _P0M1           DATA 0xe7
0000             72   _P1M0           DATA 0xd6
0000             73   _P1M1           DATA 0xd7
0000             74   _P2M0           DATA 0xce
0000             75   _P2M1           DATA 0xcf
0000             76   _P3M0           DATA 0xc6
0000             77   _P3M1           DATA 0xc7
0000             78   _P4M0           DATA 0xbe
0000             79   _P4M1           DATA 0xbf
0000             80   _SCON           DATA 0x98
0000             81   _SBUF           DATA 0x99
0000             82   _SADEN          DATA 0xb9
0000             83   _SADDR          DATA 0xa9
0000             84   _BDRCON         DATA 0x9b
0000             85   _BRL            DATA 0x9a
0000             86   _TCON           DATA 0x88
0000             87   _TMOD           DATA 0x89
0000             88   _TCONB          DATA 0x91
0000             89   _TL0            DATA 0x8a
0000             90   _TH0            DATA 0x8c
0000             91   _TL1            DATA 0x8b
0000             92   _TH1            DATA 0x8d
0000             93   _RL0            DATA 0xf2
0000             94   _RH0            DATA 0xf4
0000             95   _RL1            DATA 0xf3
0000             96   _RH1            DATA 0xf5
0000             97   _WDTRST         DATA 0xa6
0000             98   _WDTPRG         DATA 0xa7
0000             99   _T2CON          DATA 0xc8
0000            100   _T2MOD          DATA 0xc9
0000            101   _RCAP2H         DATA 0xcb
0000            102   _RCAP2L         DATA 0xca
0000            103   _TH2            DATA 0xcd
0000            104   _TL2            DATA 0xcc
0000            105   _SPCON          DATA 0xc3
0000            106   _SPSTA          DATA 0xc4
0000            107   _SPDAT          DATA 0xc5
0000            108   _SSCON          DATA 0x93
0000            109   _SSCS           DATA 0x94
0000            110   _SSDAT          DATA 0x95
0000            111   _SSADR          DATA 0x96
0000            112   _KBLS           DATA 0x9c
0000            113   _KBE            DATA 0x9d
0000            114   _KBF            DATA 0x9e
0000            115   _KBMOD          DATA 0x9f
0000            116   _BMSEL          DATA 0x92
0000            117   _FCON           DATA 0xd1
0000            118   _EECON          DATA 0xd2
0000            119   _ACSRA          DATA 0xa3
0000            120   _ACSRB          DATA 0xab
0000            121   _AREF           DATA 0xbd
0000            122   _DADC           DATA 0xa4
0000            123   _DADI           DATA 0xa5
0000            124   _DADL           DATA 0xac
0000            125   _DADH           DATA 0xad
0000            126   _CCON           DATA 0xd8
0000            127   _CMOD           DATA 0xd9
0000            128   _CL             DATA 0xe9
0000            129   _CH             DATA 0xf9
0000            130   _CCAPM0         DATA 0xda
0000            131   _CCAPM1         DATA 0xdb
0000            132   _CCAPM2         DATA 0xdc
0000            133   _CCAPM3         DATA 0xdd
0000            134   _CCAPM4         DATA 0xde
0000            135   _CCAP0H         DATA 0xfa
0000            136   _CCAP1H         DATA 0xfb
0000            137   _CCAP2H         DATA 0xfc
0000            138   _CCAP3H         DATA 0xfd
0000            139   _CCAP4H         DATA 0xfe
0000            140   _CCAP0L         DATA 0xea
0000            141   _CCAP1L         DATA 0xeb
0000            142   _CCAP2L         DATA 0xec
0000            143   _CCAP3L         DATA 0xed
0000            144   _CCAP4L         DATA 0xee
0000            145   ;--------------------------------------------------------
0000            146   ; special function bits
0000            147   ;--------------------------------------------------------
0000            148   _ACC_0          BIT 0xe0
0000            149   _ACC_1          BIT 0xe1
0000            150   _ACC_2          BIT 0xe2
0000            151   _ACC_3          BIT 0xe3
0000            152   _ACC_4          BIT 0xe4
0000            153   _ACC_5          BIT 0xe5
0000            154   _ACC_6          BIT 0xe6
0000            155   _ACC_7          BIT 0xe7
0000            156   _B_0            BIT 0xf0
0000            157   _B_1            BIT 0xf1
0000            158   _B_2            BIT 0xf2
0000            159   _B_3            BIT 0xf3
0000            160   _B_4            BIT 0xf4
0000            161   _B_5            BIT 0xf5
0000            162   _B_6            BIT 0xf6
0000            163   _B_7            BIT 0xf7
0000            164   _P              BIT 0xd0
0000            165   _F1             BIT 0xd1
0000            166   _OV             BIT 0xd2
0000            167   _RS0            BIT 0xd3
0000            168   _RS1            BIT 0xd4
0000            169   _F0             BIT 0xd5
0000            170   _AC             BIT 0xd6
0000            171   _CY             BIT 0xd7
0000            172   _EX0            BIT 0xa8
0000            173   _ET0            BIT 0xa9
0000            174   _EX1            BIT 0xaa
0000            175   _ET1            BIT 0xab
0000            176   _ES             BIT 0xac
0000            177   _ET2            BIT 0xad
0000            178   _EC             BIT 0xae
0000            179   _EA             BIT 0xaf
0000            180   _PX0            BIT 0xb8
0000            181   _PT0            BIT 0xb9
0000            182   _PX1            BIT 0xba
0000            183   _PT1            BIT 0xbb
0000            184   _PS             BIT 0xbc
0000            185   _PT2            BIT 0xbd
0000            186   _IP0D           BIT 0xbf
0000            187   _PPCL           BIT 0xbe
0000            188   _PT2L           BIT 0xbd
0000            189   _PLS            BIT 0xbc
0000            190   _PT1L           BIT 0xbb
0000            191   _PX1L           BIT 0xba
0000            192   _PT0L           BIT 0xb9
0000            193   _PX0L           BIT 0xb8
0000            194   _P0_0           BIT 0x80
0000            195   _P0_1           BIT 0x81
0000            196   _P0_2           BIT 0x82
0000            197   _P0_3           BIT 0x83
0000            198   _P0_4           BIT 0x84
0000            199   _P0_5           BIT 0x85
0000            200   _P0_6           BIT 0x86
0000            201   _P0_7           BIT 0x87
0000            202   _P1_0           BIT 0x90
0000            203   _P1_1           BIT 0x91
0000            204   _P1_2           BIT 0x92
0000            205   _P1_3           BIT 0x93
0000            206   _P1_4           BIT 0x94
0000            207   _P1_5           BIT 0x95
0000            208   _P1_6           BIT 0x96
0000            209   _P1_7           BIT 0x97
0000            210   _P2_0           BIT 0xa0
0000            211   _P2_1           BIT 0xa1
0000            212   _P2_2           BIT 0xa2
0000            213   _P2_3           BIT 0xa3
0000            214   _P2_4           BIT 0xa4
0000            215   _P2_5           BIT 0xa5
0000            216   _P2_6           BIT 0xa6
0000            217   _P2_7           BIT 0xa7
0000            218   _P3_0           BIT 0xb0
0000            219   _P3_1           BIT 0xb1
0000            220   _P3_2           BIT 0xb2
0000            221   _P3_3           BIT 0xb3
0000            222   _P3_4           BIT 0xb4
0000            223   _P3_5           BIT 0xb5
0000            224   _P3_6           BIT 0xb6
0000            225   _P3_7           BIT 0xb7
0000            226   _RXD            BIT 0xb0
0000            227   _TXD            BIT 0xb1
0000            228   _INT0           BIT 0xb2
0000            229   _INT1           BIT 0xb3
0000            230   _T0             BIT 0xb4
0000            231   _T1             BIT 0xb5
0000            232   _WR             BIT 0xb6
0000            233   _RD             BIT 0xb7
0000            234   _P4_0           BIT 0xc0
0000            235   _P4_1           BIT 0xc1
0000            236   _P4_2           BIT 0xc2
0000            237   _P4_3           BIT 0xc3
0000            238   _P4_4           BIT 0xc4
0000            239   _P4_5           BIT 0xc5
0000            240   _P4_6           BIT 0xc6
0000            241   _P4_7           BIT 0xc7
0000            242   _RI             BIT 0x98
0000            243   _TI             BIT 0x99
0000            244   _RB8            BIT 0x9a
0000            245   _TB8            BIT 0x9b
0000            246   _REN            BIT 0x9c
0000            247   _SM2            BIT 0x9d
0000            248   _SM1            BIT 0x9e
0000            249   _SM0            BIT 0x9f
0000            250   _IT0            BIT 0x88
0000            251   _IE0            BIT 0x89
0000            252   _IT1            BIT 0x8a
0000            253   _IE1            BIT 0x8b
0000            254   _TR0            BIT 0x8c
0000            255   _TF0            BIT 0x8d
0000            256   _TR1            BIT 0x8e
0000            257   _TF1            BIT 0x8f
0000            258   _CP_RL2         BIT 0xc8
0000            259   _C_T2           BIT 0xc9
0000            260   _TR2            BIT 0xca
0000            261   _EXEN2          BIT 0xcb
0000            262   _TCLK           BIT 0xcc
0000            263   _RCLK           BIT 0xcd
0000            264   _EXF2           BIT 0xce
0000            265   _TF2            BIT 0xcf
0000            266   _CF             BIT 0xdf
0000            267   _CR             BIT 0xde
0000            268   _CCF4           BIT 0xdc
0000            269   _CCF3           BIT 0xdb
0000            270   _CCF2           BIT 0xda
0000            271   _CCF1           BIT 0xd9
0000            272   _CCF0           BIT 0xd8
0000            273   ;--------------------------------------------------------
0000            274   ; overlayable register banks
0000            275   ;--------------------------------------------------------
0000            276            rbank0 segment data overlay
0000            277   ;--------------------------------------------------------
0000            278   ; internal ram data
0000            279   ;--------------------------------------------------------
0000            280            rseg R_DSEG
0000            281   ;--------------------------------------------------------
0000            282   ; overlayable items in internal ram 
0000            283   ;--------------------------------------------------------
0000            284            rseg    R_OSEG
0000            285   ;--------------------------------------------------------
0000            286   ; indirectly addressable internal ram data
0000            287   ;--------------------------------------------------------
0000            288            rseg R_ISEG
0000            289   ;--------------------------------------------------------
0000            290   ; absolute internal ram data
0000            291   ;--------------------------------------------------------
0000            292            DSEG
0000            293   ;--------------------------------------------------------
0000            294   ; bit data
0000            295   ;--------------------------------------------------------
0000            296            rseg R_BSEG
0000            297   ;--------------------------------------------------------
0000            298   ; paged external ram data
0000            299   ;--------------------------------------------------------
0000            300            rseg R_PSEG
0000            301   ;--------------------------------------------------------
0000            302   ; external ram data
0000            303   ;--------------------------------------------------------
0000            304            rseg R_XSEG
0000            305   ;--------------------------------------------------------
0000            306   ; absolute external ram data
0000            307   ;--------------------------------------------------------
0000            308            XSEG
0000            309   ;--------------------------------------------------------
0000            310   ; external initialized ram data
0000            311   ;--------------------------------------------------------
0000            312            rseg R_IXSEG
0000            313            rseg R_HOME
0000            314            rseg R_GSINIT
0000            315            rseg R_CSEG
0000            316   ;--------------------------------------------------------
0000            317   ; Interrupt vectors
0000            318   ;--------------------------------------------------------
0000            319   ;--------------------------------------------------------
0000            320   ; global & static initialisations
0000            321   ;--------------------------------------------------------
0000            322            rseg R_HOME
0000            323            rseg R_GSINIT
0000            324            rseg R_GSINIT
0000            325   ;--------------------------------------------------------
0000            326   ; data variables initialization
0000            327   ;--------------------------------------------------------
0000            328            rseg R_DINIT
0000            329            ; The linker places a 'ret' at the end of segment R_DINIT.
0000            330   ;--------------------------------------------------------
0000            331   ; code
0000            332   ;--------------------------------------------------------
0000            333            rseg R_CSEG
0000            334   ;------------------------------------------------------------
0000            335   ;Allocation info for local variables in function 'mydelay'
0000            336   ;------------------------------------------------------------
0000            337   ;j                         Allocated to registers r2 r3 r4 r5 
0000            338   ;------------------------------------------------------------
0000            339   ;        blinky.c:7: void mydelay (void)
0000            340   ;        -----------------------------------------
0000            341   ;         function mydelay
0000            342   ;        -----------------------------------------
0000            343   _mydelay:
0000            344            using   0
0000            345   ;        blinky.c:10: for(j=0; j<500000; j++);
0000 7A20       346            mov     r2,#0x20
0002 7BA1       347            mov     r3,#0xA1
0004 7C07       348            mov     r4,#0x07
0006 7D00       349            mov     r5,#0x00
0008            350   L002003?:
0008 1A         351            dec     r2
0009 BAFF80     352            cjne    r2,#0xff,L002009?
000C 1B         353            dec     r3
000D BBFF80     354            cjne    r3,#0xff,L002009?
0010 1C         355            dec     r4
0011 BCFF80     356            cjne    r4,#0xff,L002009?
0014 1D         357            dec     r5
0015            358   L002009?:
0015 EA         359            mov     a,r2
0016 4B         360            orl     a,r3
0017 4C         361            orl     a,r4
0018 4D         362            orl     a,r5
0019 7000       363            jnz     L002003?
001B 22         364            ret
001C            365   ;------------------------------------------------------------
001C            366   ;Allocation info for local variables in function 'blink'
001C            367   ;------------------------------------------------------------
001C            368   ;------------------------------------------------------------
001C            369   ;        blinky.c:13: void blink()
001C            370   ;        -----------------------------------------
001C            371   ;         function blink
001C            372   ;        -----------------------------------------
001C            373   _blink:
001C            374   ;        blinky.c:15: P3_2=0;
001C C2B2       375            clr     _P3_2
001E            376   ;        blinky.c:16: mydelay();
001E 120000     377            lcall   _mydelay
0021            378   ;        blinky.c:17: P3_2=1;
0021 D2B2       379            setb    _P3_2
0023            380   ;        blinky.c:18: mydelay();
0023 120000     381            lcall   _mydelay
0026            382   ;        blinky.c:19: printf("Hello from blinky!\n");
0026 7400       383            mov     a,#__str_0
0028 C0E0       384            push    acc
002A 74D8       385            mov     a,#(__str_0 >> 8)
002C C0E0       386            push    acc
002E 7480       387            mov     a,#0x80
0030 C0E0       388            push    acc
0032 120000     389            lcall   _printf
0035 1581       390            dec     sp
0037 1581       391            dec     sp
0039 1581       392            dec     sp
003B 22         393            ret
003C            394            rseg R_CSEG
003C            395   
0000            396            rseg R_XINIT
0000            397   
0000            398            rseg R_CONST
0000            399   __str_0:
0000 48656C6C   400            db 'Hello from blinky!'
     6F206672
     6F6D2062
     6C696E6B
     7921
0012 0A         401            db 0x0A
0013 00         402            db 0x00
0014            403   
0000            404            CSEG
0000            405   
0000            406   end
